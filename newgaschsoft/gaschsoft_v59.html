<!doctype html>
<html lang="es" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GaschSoft</title>

  <!-- Favicons (actualizados por JS según tema) -->
  <link rel="icon" type="image/png" sizes="32x32" href="/newgaschsoft/favicon-32x32.png" id="favicon32">
  <link rel="icon" type="image/png" sizes="16x16" href="/newgaschsoft/favicon-16x16.png" id="favicon16">
  <link rel="shortcut icon" type="image/png" href="favicon-32x32.png" id="faviconShortcut">


  <!-- SEO / Share -->
  <meta name="description" content="GaschSoft crea software y sitios web con enfoque de producto: desarrollo web, soporte IT, automatizaciones e invitaciones web." />
  <meta name="theme-color" content="#F8FAFC" id="metaThemeColor" />

  <!-- Favicons (dinámico por preferencia del sistema / tema) -->


<!-- iOS / Android Home Screen -->
  <link rel="apple-touch-icon" href="Logos/Ico GaschSoft.png" id="appleTouchIcon" />

  <!-- Open Graph / WhatsApp -->
  <meta property="og:site_name" content="GaschSoft" />
  <meta property="og:title" content="GaschSoft" />
  <meta property="og:description" content="Creamos software y sitios web con enfoque de producto: desarrollo web, soporte IT y automatizaciones." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="Logos/Ico GaschSoft.png" id="ogImage" />
  <meta property="og:image:alt" content="Logo de GaschSoft" />
  <meta property="og:locale" content="es_GT" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="GaschSoft" />
  <meta name="twitter:description" content="Creamos software y sitios web con enfoque de producto: desarrollo web, soporte IT y automatizaciones." />
  <meta name="twitter:image" content="Logos/Ico GaschSoft.png" id="twitterImage" />


  <style>
    :root{
      /* Light */
      --bg: #F8FAFC;
      --card: #EEF2F7;
      --text: #0F172A;
      --muted: #475569;

      --primary: #1F7AFF;
      --accent: #38BDF8;

      --border: rgba(15, 23, 42, 0.12);
      --shadow: 0 10px 30px rgba(2, 8, 23, 0.10);

      --header-bg: rgba(248, 250, 252, 0.72);
      --header-border: rgba(15, 23, 42, 0.10);

      --icon-btn-bg: rgba(15, 23, 42, 0.06);
      --icon-btn-bg-hover: rgba(15, 23, 42, 0.10);
      --icon-btn-border: rgba(15, 23, 42, 0.10);

      --menu-bg: rgba(248, 250, 252, 0.92);
      --menu-border: rgba(15, 23, 42, 0.12);

      --link-hover-bg: rgba(31, 122, 255, 0.10);
      --link-hover-border: rgba(31, 122, 255, 0.18);
    }

    html[data-theme="dark"]{
      --bg: #0B0F14;
      --card: #111827;
      --text: #E5E7EB;
      --muted: #9CA3AF;

      --primary: #1F7AFF;   /* se mantiene */
      --accent: #38BDF8;

      --border: rgba(229, 231, 235, 0.10);
      --shadow: 0 12px 40px rgba(0,0,0,0.40);

      --header-bg: rgba(11, 15, 20, 0.68);
      --header-border: rgba(229, 231, 235, 0.10);

      --icon-btn-bg: rgba(229, 231, 235, 0.06);
      --icon-btn-bg-hover: rgba(229, 231, 235, 0.10);
      --icon-btn-border: rgba(229, 231, 235, 0.10);

      --menu-bg: rgba(11, 15, 20, 0.92);
      --menu-border: rgba(229, 231, 235, 0.12);

      --link-hover-bg: rgba(31, 122, 255, 0.14);
      --link-hover-border: rgba(31, 122, 255, 0.22);
    }

    *{ box-sizing: border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    /* ===== Header ===== */
    .header{
      position: sticky;
      top: 0;
      z-index: 220;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      background: var(--header-bg);
      border-bottom: 1px solid var(--header-border);
    }

    .header-inner{
      max-width: 1200px;
      margin: 0 auto;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      /* allow brand to shrink on narrow screens (prevents overlap with icon buttons) */
      min-width: 0;
      flex: 1 1 auto;
    }

    .brand-text,
    .brand-typing{
      min-width: 0;
    }

    .brand-logo{
      width: 61px;
      height: 61px;
      
      flex: 0 0 auto;
      display:block;
      object-fit: contain;
    }

    .brand-text{
      font-size: 61px;
      font-weight: 600;
      line-height: 1;
    }

    .brand-typing{
      font-weight: 600;
      letter-spacing: 0.4px;
      font-size: 30px;
      font-family: "Open Sauce", "OpenSauce", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      display:flex;
      align-items:center;
      gap: 6px;
      user-select:none;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .caret{
      width: 10px;
      height: 18px;
      border-left: 2px solid var(--primary);
      opacity: 0.9;
      animation: blink 0.9s infinite;
      transform: translateY(1px);
    }

    @keyframes blink{
      0%, 45%{ opacity: 1; }
      55%, 100%{ opacity: 0; }
    }

    .brand-sub{
      font-size: 12px;
      color: var(--muted);
      letter-spacing: 0.2px;
      white-space: nowrap;
    }

    /* Nav */
    .nav{
      display:flex;
      align-items:center;
      gap: 8px;
      margin-left: auto;
      position: relative;
    }

    .nav-links{
      display:flex;
      align-items:center;
      gap: 6px;
    }

    .nav-link, .nav-dd-btn{
      appearance: none;
      border: 1px solid transparent;
      background: transparent;
      color: var(--text);
      font-weight: 600;
      font-size: 14px;
      padding: 10px 10px;
      border-radius: 12px;
      cursor: pointer;
      transition: background 160ms ease, border-color 160ms ease, transform 160ms ease;
      text-decoration: none;
      display:flex;
      align-items:center;
      gap: 8px;
      white-space: nowrap;
    }

    .nav-link:hover, .nav-dd-btn:hover{
      background: var(--link-hover-bg);
      border-color: var(--link-hover-border);
    }

    .nav-link:active, .nav-dd-btn:active{ transform: translateY(1px); }

    /* Homologar <button> (Servicios) con <a> (Portafolio/Nosotros/Contacto) */
    button.nav-link{
      font: inherit;
      font-size: inherit;
      line-height: inherit;
      color: inherit;
      text-align: inherit;
    }
    button.nav-link::-moz-focus-inner{ border:0; padding:0; }

    .chev{
      width: 10px;
      height: 10px;
      border-right: 2px solid var(--muted);
      border-bottom: 2px solid var(--muted);
      transform: rotate(45deg);
      margin-top: -2px;
      transition: transform 160ms ease;
    }

    /* Icon buttons */
    .icon-actions{
      display:flex;
      align-items:center;
      gap: 10px;
      margin-left: 8px;
    }
    
        /* Demo button (homologado con Idioma/Tema + glow solo en el borde) */
    .demo-btn{
      height: 40px;
      padding: 0 14px 0 12px;
      border-radius: 999px;

      /* MISMO look & feel que .icon-btn */
      border: 1px solid var(--icon-btn-border);
      background: var(--icon-btn-bg);
      color: var(--text);

      display:flex;
      align-items:center;
      gap: 8px;
      cursor: pointer;
      text-decoration: none;
      font-weight: 700;
      font-size: 13px;

      position: relative;
      z-index: 0;
      isolation: isolate;

      /* MISMAS transiciones que Idioma/Tema */
      transition: background 160ms ease, transform 160ms ease, border-color 160ms ease;
      white-space: nowrap;
    }

    .demo-btn:hover{
      background: var(--icon-btn-bg-hover);
      border-color: rgba(31, 122, 255, 0.30);
    }

    .demo-btn:active{ transform: translateY(1px); }

    .demo-btn img{
      width: 20px;
      height: 20px;
      display:block;
    }

    /* Glow: SOLO borde (centro recortado) */
    .demo-btn::before{
      content:"";
      position:absolute;
      inset:-2px;
      border-radius:999px;
      padding: 4px; /* grosor del borde glow */

      background: linear-gradient(
        45deg,
        #1F4ED8,
        #1F7AFF,
        #3AB6E6,
        #A7E3FF,
        #1F4ED8
      );
      background-size: 400%;
      filter: blur(5px);

      opacity: 0;
      transition: opacity .25s ease-in-out;
      animation: demoGlow 18s linear infinite;

      z-index: -1;

      /* recorte del centro => borde únicamente */
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      mask-composite: exclude;
    }

    .demo-btn:hover::before{ opacity: 1; }

    @keyframes demoGlow{
      0% { background-position: 0 0; }
      50% { background-position: 400% 0; }
      100% { background-position: 0 0; }
    }
      50% { background-position: 400% 0; }
      100% { background-position: 0 0; }
    }

    /* Drawer item with left icon */
    .drawer-item.with-icon{ justify-content: flex-start; }
    .drawer-item .drawer-left{
      display:flex;
      align-items:center;
      gap: 10px;
    }


    .drawer-icon{
      width: 20px;
      height: 20px;
      display:block;
      object-fit: contain;
      flex: 0 0 auto;
    }

    .icon-btn{
      width: 40px;
      height: 40px;
      border-radius: 999px;
      border: 1px solid var(--icon-btn-border);
      background: var(--icon-btn-bg);
      display:grid;
      place-items:center;
      cursor: pointer;
      transition: background 160ms ease, transform 160ms ease, border-color 160ms ease;
      position: relative;
    }

    .icon-btn:hover{
      background: var(--icon-btn-bg-hover);
      border-color: rgba(31, 122, 255, 0.30);
    }

    .icon-btn:active{ transform: translateY(1px); }

    .icon-btn img{
      width: 20px;
      height: 20px;
      display:block;
    }

    /* Dropdown (solo idioma) */
    .dropdown{ position: relative; }

    /* Asegurar que el dropdown de idioma quede por encima del drawer */
    #langDD{ z-index: 240; }
    #langMenu{ z-index: 260; }

    #themeDD{ z-index: 240; }
    #themeMenu{ z-index: 260; }

    .menu{
      position: absolute;
      top: calc(100% + 8px);
      right: 0;
      min-width: 220px;
      background: var(--menu-bg);
      border: 1px solid var(--menu-border);
      border-radius: 14px;
      box-shadow: var(--shadow);
      padding: 8px;
      display:none;
    }

    .menu.open{ display:block; }

    .menu-item{
      width: 100%;
      text-align: left;
      border: 1px solid transparent;
      background: transparent;
      color: var(--text);
      padding: 10px 10px;
      border-radius: 12px;
      cursor: pointer;
      display:flex;
      align-items:center;
      gap: 10px;
      font-weight: 700;
      font-size: 13px;
      transition: background 160ms ease, border-color 160ms ease;
    }

    .menu-item:hover{
      background: rgba(31, 122, 255, 0.12);
      border-color: rgba(31, 122, 255, 0.20);
    }

    .menu-item[aria-selected="true"]{
      background: rgba(31, 122, 255, 0.18);
      border-color: rgba(31, 122, 255, 0.32);
    }

    /* Idiomas: ahorrar ancho (menos espacio vacio horizontal) */
    #langMenu{ min-width: 132px; }
    /* Centrar dropdown de idioma debajo del botón */
    #langDD .menu{
      left: 50%;
      right: auto;
      transform: translateX(-50%);
    }
    #langMenu{
  padding: 4px;
  min-width: auto;
}

#langMenu .menu-item{
  padding: 6px 10px;
}

    /* Tema: centrado y compacto (igual que idioma) */
    #themeDD .menu{
      left: 50%;
      right: auto;
      transform: translateX(-50%);
    }
    #themeMenu{
      padding: 4px;
      min-width: auto;
    }
    #themeMenu .menu-item{
      padding: 6px 10px;
    }

    #themeMenu .theme-item{
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .theme-item-icon{
      width: 18px;
      height: 18px;
      object-fit: contain;
    }

    .flag{
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: none;
      background: transparent;
      object-fit: cover;
      flex: 0 0 auto;
    }

    /* ===== Servicios: hover desktop ===== */
    .dropdown.services:hover .menu,
    .dropdown.services:focus-within .menu{
      display:block;
    }
    .dropdown.services:hover .chev,
    .dropdown.services:focus-within .chev{
      transform: rotate(225deg);
    }
    /* Servicios: mantener hover (sin "hueco") y centrar menu bajo el boton */
    .dropdown.services{ padding-bottom: 0; }
    .dropdown.services .menu{
      left: 50%; right: auto; transform: translateX(-50%);
      top: calc(100% + 6px);
    }
    /* Puente invisible para que el hover no se caiga al mover el puntero al menu */
    .dropdown.services .menu::before{
      content: "";
      position: absolute;
      left: 0; right: 0;
      top: -10px;
      height: 10px;
    }

    /* Mobile */
    .burger{
      display:none;
      width: 42px;
      height: 42px;
      border-radius: 14px;
      border: 1px solid var(--icon-btn-border);
      background: var(--icon-btn-bg);
      cursor: pointer;
      transition: background 160ms ease, transform 160ms ease;
      place-items:center;
    }
    .burger:hover{ background: var(--icon-btn-bg-hover); }
    .burger:active{ transform: translateY(1px); }

    .burger-lines{ width: 18px; height: 12px; position: relative; }
    .burger-lines span{
      position:absolute; left:0; right:0;
      height:2px; background: var(--text); border-radius: 3px;
      opacity: 0.9;
    }
    .burger-lines span:nth-child(1){ top:0; }
    .burger-lines span:nth-child(2){ top:5px; opacity: 0.9; }
    .burger-lines span:nth-child(3){ top:10px; }


    
    /* Header: tighter + responsive brand text on mobile (Android overlap fix) */
    @media (max-width: 520px){
      .header-inner{
        padding: 10px 12px;
        gap: 10px;
      }
      .brand-logo{
        width: 54px;
        height: 54px;
      }
      .brand-typing{
        font-size: clamp(22px, 7vw, 28px);
      }
      .icon-actions{
        gap: 8px;
      }
    }

/* ===== Mobile Drawer (off-canvas) ===== */
    .drawer{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      top: var(--headerH, 70px);
      z-index: 90;
      /* Mantener en DOM para animar */
      display: block;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity 180ms ease, visibility 0s linear 180ms;
    }
    .drawer.open{
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
      transition: opacity 180ms ease, visibility 0s;
    }
    .drawer-backdrop{
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
      opacity: 0;
      transition: opacity 180ms ease;
    }
    .drawer.open .drawer-backdrop{ opacity: 1; }

    .drawer-panel{
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
      width: min(360px, 92vw);
      background: var(--menu-bg);
      border-left: 1px solid var(--menu-border);
      box-shadow: var(--shadow);
      transform: translateX(100%);
      transition: transform 260ms ease-out;
      display: flex;
      flex-direction: column;
    }
    .drawer.open .drawer-panel{ transform: translateX(0); }

    .drawer-header{
      position: relative;
      padding: 2px;
      border-bottom: none;
      min-height: 11px;
    }
    .drawer-title{
      font-weight: 700;
      letter-spacing: 0.2px;
    }
    .drawer-close{
      position: absolute;
      top: 6px;
      right: 6px;
      width: 42px;
      height: 42px;
      border-radius: 14px;
      border: 1px solid var(--icon-btn-border);
      background: var(--icon-btn-bg);
      cursor: pointer;
      display:grid;
      place-items:center;
    }
    .drawer-close:hover{ background: var(--icon-btn-bg-hover); }
    .drawer-close:hover{ background: var(--icon-btn-bg-hover); }

    .drawer-body{
      padding: 6px 10px 10px;
      overflow: auto;
      overscroll-behavior: contain;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-y;
    }

    /* Prevent page behind from scrolling/bouncing when drawer is open (iOS Safari) */
    body.drawer-open{
      position: fixed;
      width: 100%;
      overflow: hidden;
      overscroll-behavior: none;
    }
    .drawer-backdrop{
      touch-action: none;
    }

    .drawer-item{
      width: 100%;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid transparent;
      color: var(--text);
      text-decoration: none;
      background: transparent;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
    }
    .drawer-item:hover{
      background: var(--link-hover-bg);
      border-color: var(--link-hover-border);
    }

    .drawer-item-dd{
      appearance: none;
      text-align: left;
    }
    .drawer-chev{
      margin-top: -2px;
      transition: transform 160ms ease;
    }
    .drawer-item-dd[aria-expanded="true"] .drawer-chev{
      transform: rotate(225deg);
    }

    .drawer-submenu{
      display: none;
      padding: 6px 6px 10px;
      margin-left: 6px;
      border-left: 2px solid rgba(31,122,255,0.25);
    }
    .drawer-submenu.open{ display:block; }

    .drawer-subitem{
      display:flex;
      padding: 10px 12px;
      border-radius: 12px;
      text-decoration:none;
      color: var(--text);
      border: 1px solid transparent;
      font-weight: 600;
      font-size: 13px;
    }
    .drawer-subitem:hover{
      background: rgba(31,122,255,0.12);
      border-color: rgba(31,122,255,0.20);
    }

    /* Burger transform animation */
    .burger-lines span{
      transition: transform .25s ease, opacity .2s ease, width .25s ease;
    }
    .burger.active .burger-lines span:nth-child(1){
      transform: translateY(5px) rotate(45deg);
    }
    .burger.active .burger-lines span:nth-child(2){
      opacity: 0;
    }
    .burger.active .burger-lines span:nth-child(3){
      transform: translateY(-5px) rotate(-45deg);
    }


    @media (max-width: 920px){
      .brand{ min-width: 180px; }
      .nav-links{ display:none !important; }
      .nav-links.open{ display:none !important; }
.nav-link, .nav-dd-btn{ justify-content: space-between; }
      .burger{ display:grid; }
      .icon-actions{ margin-left: 0; }
      #demoWrap{ display:none !important; }
      .nav{ gap: 10px; }
}

    main{
      max-width: 1200px;
      margin: 0 auto;
      padding: 34px 16px 80px;
    }
    .hero{
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(31,122,255,0.10), transparent);
      border-radius: 22px;
      padding: 22px;
      box-shadow: var(--shadow);
    }
    .hero h1{ margin: 0 0 8px; font-size: 28px; letter-spacing: -0.3px; }
    .hero p{ margin: 0; color: var(--muted); max-width: 70ch; line-height: 1.5; }
  
/* ===== Protección básica contra selección y arrastre ===== */
html, body, header, nav, main, .drawer {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Evitar arrastrar imágenes */
img {
  -webkit-user-drag: none;
  user-drag: none;
  pointer-events: none;
}


/* ===== Fix: evitar que Plataforma/Casos se queden "pegados" tras click (focus) ===== */
.nav-dd-link:focus,
.nav-dd-link:active{
  background: var(--nav-link-bg, transparent);
  border-color: var(--nav-link-border, transparent);
}

.nav-dd-link:focus:not(:focus-visible){
  outline: none;
  box-shadow: none;
}


/* body.drawer-open is handled above (fixed positioning for iOS) */
</style>

<link rel="apple-touch-icon" sizes="180x180" href="/newgaschsoft/apple-touch-icon.png">
  <link rel="manifest" href="/newgaschsoft/site.webmanifest">

</head>

<body>
  <header class="header" role="banner">
    <div class="header-inner">
      <div class="brand" aria-label="GaschSoft">
        <img id="brandLogo" class="brand-logo" src="Logos/Ico GaschSoft.png" alt="GaschSoft logo" />
        <div class="brand-text">
          <div class="brand-typing" aria-label="GaschSoft">
            <span id="typingText">Gaschsoft</span>
            
          </div>
          <div class="brand-sub" id="brandSub"></div>
        </div>
      </div>

      <nav class="nav" aria-label="Navegación principal">
<div class="nav-links" id="navLinks">
          

          
          <div class="dropdown services services-test" id="servicesTestDD">
            <a class="nav-link nav-dd-link" href="#services-test" id="servicesTestBtn" aria-haspopup="true" aria-expanded="false">
              <span>Plataforma</span>
              <span class="chev" aria-hidden="true"></span>
            </a>
            <div class="menu" role="menu" aria-label="Plataforma">
              <button class="menu-item" id="svcAuto" role="menuitem" type="button">Automatizaciones</button>
              <button class="menu-item" id="svcWeb" role="menuitem" type="button">Web Apps</button>
              <button class="menu-item" id="svcIT" role="menuitem" type="button">Integraciones</button>
              <button class="menu-item" id="svcInfra" role="menuitem" type="button">Infraestructura</button>
              <button class="menu-item" id="svcInv" role="menuitem" type="button">Invitaciones Web</button>
            </div>
          </div>

          <div class="dropdown services services-test" id="casesDD">
            <a class="nav-link nav-dd-link" href="#cases" id="navPortfolio" aria-haspopup="true" aria-expanded="false">
              <span id="navCasesLabel">Casos</span>
              <span class="chev" aria-hidden="true"></span>
            </a>
            <div class="menu" role="menu" aria-label="Casos">
              <button class="menu-item" id="caseSME" role="menuitem" type="button">PYMEs</button>
              <button class="menu-item" id="caseCorp" role="menuitem" type="button">Corporativo</button>
              <button class="menu-item" id="caseStartup" role="menuitem" type="button">Startups</button>
</div>
          </div>
<a class="nav-link" href="#about" id="navAbout">Empresa</a>
          <a class="nav-link" href="#contact" id="navContact">Contacto</a>
        </div>

        <div class="icon-actions">
          <!-- Demo (desktop only; moves into drawer on mobile) -->
          <div id="demoWrap">
            <a class="demo-btn" id="demoBtn" href="/newgaschsoft/demo" aria-label="Demo">
              <img id="demoIcon" src="Logos/agendar.png" alt="">
              <span>Demo</span>
            </a>
          </div>

          <!-- Idioma -->
          <div class="dropdown" id="langDD">
            <button class="icon-btn" id="langBtn" type="button" aria-label="Idioma" aria-haspopup="true" aria-expanded="false">
              <img id="langIcon" src="Logos/idiomas.png" alt="" />
            </button>

            <div class="menu" role="menu" aria-label="Selector de idioma" id="langMenu">
              <button class="menu-item" role="menuitem" type="button" data-lang="es" aria-selected="true">
                <img class="flag" src="Logos/ES.png" alt="ES" />
                <span>Español</span>
              </button>
              <button class="menu-item" role="menuitem" type="button" data-lang="en" aria-selected="false">
                <img class="flag" src="Logos/US.png" alt="US" />
                <span>English</span>
              </button>
            </div>
          </div>

          <!-- Tema / Aspecto -->
          <div class="dropdown" id="themeDD">
            <button class="icon-btn" id="themeBtn" type="button" aria-label="Tema" aria-haspopup="true" aria-expanded="false">
              <img id="themeIcon" src="Logos/sistema.png" alt="" />
            </button>

            <div class="menu" role="menu" aria-label="Selector de tema" id="themeMenu">
              <button class="menu-item theme-item" role="menuitem" type="button" data-theme="system" aria-selected="true">
                <img src="Logos/sistema.png" class="theme-item-icon" alt="">
                <span>Sistema</span>
              </button>
              <button class="menu-item theme-item" role="menuitem" type="button" data-theme="light" aria-selected="false">
                <img src="Logos/claro.png" class="theme-item-icon" alt="">
                <span>Claro</span>
              </button>
              <button class="menu-item theme-item" role="menuitem" type="button" data-theme="dark" aria-selected="false">
                <img src="Logos/obscuro.png" class="theme-item-icon" alt="">
                <span>Oscuro</span>
              </button>
            </div>
          </div>
          <button class="burger" id="burgerBtn" type="button" aria-label="Abrir menú" aria-expanded="false">
          <div class="burger-lines" aria-hidden="true"><span></span><span></span><span></span></div>
        </button>
        </div>
      </nav>
    </div>
  </header>

  <!-- Mobile Drawer -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-backdrop" id="drawerBackdrop" aria-hidden="true"></div>
    <aside class="drawer-panel" role="dialog" aria-modal="true" aria-label="Menú">
      
      <div class="drawer-header">
        
      </div>
    

      <div class="drawer-body">
        <a class="drawer-item with-icon" href="/newgaschsoft/demo" id="drawerDemo">
          <span class="drawer-left">
            <img class="drawer-icon" id="drawerDemoIcon" src="Logos/agendar.png" alt="">
            <span>Demo</span>
          </span>
        </a>
        <div class="drawer-section">
          <button class="drawer-item drawer-item-dd" id="drawerServicesBtn" type="button" aria-expanded="true">
            <span id="drawerServicesLabel">Plataforma</span>
            <span class="chev drawer-chev" id="drawerServicesChev" aria-hidden="true"></span>
          </button>
          <div class="drawer-submenu open" id="drawerServicesMenu">
            <a class="drawer-subitem" href="#plat-auto" id="drawerSvcAuto">Automatizaciones</a>
            <a class="drawer-subitem" href="#plat-webapps" id="drawerSvcWeb">Web Apps</a>
            <a class="drawer-subitem" href="#plat-int" id="drawerSvcIT">Integraciones</a>
            <a class="drawer-subitem" href="#plat-infra" id="drawerSvcInfra">Infraestructura</a>
            <a class="drawer-subitem" href="#plat-inv" id="drawerSvcInv">Invitaciones Web</a>
          </div>
        </div>

        <div class="drawer-section">
          <button class="drawer-item drawer-item-dd" id="drawerCasesBtn" type="button" aria-expanded="true">
            <span id="drawerCasesLabel">Casos</span>
            <span class="chev drawer-chev rot" id="drawerCasesChev" aria-hidden="true"></span>
          </button>
          <div class="drawer-submenu open" id="drawerCasesMenu">
            <a class="drawer-subitem" href="#cases-sme" id="drawerCaseSME">PYMEs</a>
            <a class="drawer-subitem" href="#cases-corp" id="drawerCaseCorp">Corporativo</a>
            <a class="drawer-subitem" href="#cases-startups" id="drawerCaseStartup">Startups</a>
          </div>
        </div>

<a class="drawer-item" href="#about" id="drawerAbout">Empresa</a>
        <a class="drawer-item" href="#contact" id="drawerContact">Contacto</a>
        
      </div>
    </aside>
  </div>


  <main>
    <section class="hero">
      <h1 id="heroTitle">GaschSoft: software y soporte con mentalidad de producto.</h1>
      <p id="heroDesc">Tema con ciclo Sistema → Oscuro → Claro, selector de idioma, y menú de servicios en hover.</p>
    </section>
  </main>

  <script>
    (function () {
      const elHtml = document.documentElement;

      const ASSETS = {
        brand: { light: "Logos/Ico GaschSoft.png", dark: "Logos/Ico GaschSoft - dark.png" },
        langIcon: { light: "Logos/idiomas.png", dark: "Logos/idiomas - dark.png" },
        demo: { light: "Logos/agendar.png", dark: "Logos/agendar - dark.png" },
        theme: {
          system: { light: "Logos/sistema.png", dark: "Logos/sistema - dark.png" },
          light:  { light: "Logos/claro.png",   dark: "Logos/claro - dark.png" },
          dark:   { light: "Logos/obscuro.png", dark: "Logos/obscuro - dark.png" }
        }
      };

      const I18N = {
        es: {
          brandSub: "",
          nav: { services: "Plataforma", portfolio: "Casos", contact: "Contacto", about: "Empresa" },
          services: { auto:"Automatizaciones", web:"Desarrollo Web", it:"Soporte IT", infra:"Infraestructura", invites:"Invitaciones Web" },
          cases: { sme: "PYMEs", corp: "Corporativo", startups: "Startups" },
          hero: { title: "GaschSoft: software y soporte con mentalidad de producto.", desc: "Tema con ciclo Sistema → Oscuro → Claro, selector de idioma, y menú de servicios en hover." }
        },
        en: {
          brandSub: "",
          nav: { services: "Platform", portfolio: "Use cases", contact: "Contact", about: "Company" },
          services: { auto:"Automations", web:"Web Development", it:"IT Support", infra:"Infrastructure", invites:"Web Invitations" },
          cases: { sme: "SMEs", corp: "Enterprise", startups: "Startups" },
          hero: { title: "GaschSoft: product-minded software and support.", desc: "Theme cycle System → Dark → Light, language selector, and hover services menu." }
        }
      };

      const STORAGE = { themeMode: "gaschsoft_theme_mode", lang: "gaschsoft_lang" };

      const brandLogo = document.getElementById("brandLogo");
      const langIcon  = document.getElementById("langIcon");
      const themeIcon = document.getElementById("themeIcon");
      const demoIcon = document.getElementById("demoIcon");
      const drawerDemoIcon = document.getElementById("drawerDemoIcon");

      // Head icons/meta (favicon / share)
      const favicon32 = document.getElementById("favicon32");
      const favicon16 = document.getElementById("favicon16");
      const faviconShortcut = document.getElementById("faviconShortcut");
      const appleTouchIcon = document.getElementById("appleTouchIcon");
      const ogImage = document.getElementById("ogImage");
      const twitterImage = document.getElementById("twitterImage");
      const metaThemeColor = document.getElementById("metaThemeColor");

      const brandSub  = document.getElementById("brandSub");
      const navPortfolio = document.getElementById("navPortfolio");
      const navContact = document.getElementById("navContact");
      const navAbout = document.getElementById("navAbout");

      const svcWeb = document.getElementById("svcWeb");
      const svcIT = document.getElementById("svcIT");
      const svcInv = document.getElementById("svcInv");
      const svcInfra = document.getElementById("svcInfra");
      const svcAuto = document.getElementById("svcAuto");

      const heroTitle = document.getElementById("heroTitle");
      const heroDesc = document.getElementById("heroDesc");

      const langBtn = document.getElementById("langBtn");
      const langMenu = document.getElementById("langMenu");
      const langItems = Array.from(langMenu.querySelectorAll("[data-lang]"));

      const themeBtn = document.getElementById("themeBtn");
      const themeMenu = document.getElementById("themeMenu");
      const themeItems = Array.from(themeMenu.querySelectorAll("[data-theme]"));


      const burgerBtn = document.getElementById("burgerBtn");
      const navLinks = document.getElementById("navLinks");

      const mediaDark = window.matchMedia ? window.matchMedia("(prefers-color-scheme: dark)") : null;

      function getSavedThemeMode(){
        const v = localStorage.getItem(STORAGE.themeMode);
        return (v === "system" || v === "dark" || v === "light") ? v : "system";
      }
      function getSavedLang(){
        const v = localStorage.getItem(STORAGE.lang);
        return (v === "es" || v === "en") ? v : "es";
      }

      let state = { themeMode: getSavedThemeMode(), lang: getSavedLang() };

      function systemTheme(){
        return (mediaDark && mediaDark.matches) ? "dark" : "light";
      }

      function resolvedTheme(){
        if (state.themeMode === "system") return systemTheme();
        return state.themeMode;
      }

      function applyTheme(){
        const theme = resolvedTheme();
        elHtml.setAttribute("data-theme", theme);

        // swap icons that depend on THEME (resolved)
        brandLogo.src = (theme === "dark") ? ASSETS.brand.dark : ASSETS.brand.light;
        langIcon.src  = (theme === "dark") ? ASSETS.langIcon.dark : ASSETS.langIcon.light;
        if (demoIcon) demoIcon.src = (theme === "dark") ? ASSETS.demo.dark : ASSETS.demo.light;
        if (drawerDemoIcon) drawerDemoIcon.src = (theme === "dark") ? ASSETS.demo.dark : ASSETS.demo.light;

        // Head: favicon / iOS icon / share image
        const headIcon = (theme === "dark") ? ASSETS.brand.dark : ASSETS.brand.light;
                // Force favicon refresh (Edge/Chrome cache aggressively)
        const v = Date.now();
        const iconSrc = (theme === "dark") ? ASSETS.brand.dark : ASSETS.brand.light;
        const icon32 = iconSrc + "?v=" + v;
        const icon16 = iconSrc + "?v=" + v;
        if (favicon32) favicon32.setAttribute("href", icon32);
        if (favicon16) favicon16.setAttribute("href", icon16);
        if (faviconShortcut) faviconShortcut.setAttribute("href", icon32);
        if (appleTouchIcon) appleTouchIcon.setAttribute("href", headIcon);
        if (ogImage) ogImage.setAttribute("content", headIcon);
        if (twitterImage) twitterImage.setAttribute("content", headIcon);
        if (metaThemeColor) metaThemeColor.setAttribute("content", theme === "dark" ? "#0B0F14" : "#F8FAFC");

        // theme button icon (refleja la opción seleccionada; variante depende del tema resuelto)
        const mode = state.themeMode; // system | light | dark
        if (mode === "system") {
          themeIcon.src = (theme === "dark") ? ASSETS.theme.system.dark : ASSETS.theme.system.light;
        } else if (mode === "light") {
          themeIcon.src = (theme === "dark") ? ASSETS.theme.light.dark : ASSETS.theme.light.light;
        } else {
          themeIcon.src = (theme === "dark") ? ASSETS.theme.dark.dark : ASSETS.theme.dark.light;
        }

        themeBtn.setAttribute("aria-label", "Tema: " + (mode === "system" ? "Sistema" : (mode === "light" ? "Claro" : "Oscuro")));

        // sync selección en menú de tema
        themeItems.forEach(item => {
          const isSelected = item.getAttribute("data-theme") === mode;
          item.setAttribute("aria-selected", isSelected ? "true" : "false");
        });
      }



      // Follow system changes ONLY if mode == system
      if (mediaDark) {
        mediaDark.addEventListener?.("change", () => {
          if (state.themeMode === "system") applyTheme();
        });
      }

      function applyLang(lang){
        state.lang = lang;
        localStorage.setItem(STORAGE.lang, lang);

        const t = I18N[lang];

        brandSub.textContent = t.brandSub;
        document.getElementById("navCasesLabel").textContent = t.nav.portfolio;
        // Casos (header)
        document.getElementById("caseSME").textContent = t.cases.sme;
        document.getElementById("caseCorp").textContent = t.cases.corp;
        document.getElementById("caseStartup").textContent = t.cases.startups;

        navContact.textContent = t.nav.contact;
        navAbout.textContent = t.nav.about;

        // Drawer (mobile)
        document.getElementById("drawerServicesLabel").textContent = t.nav.services;
        document.getElementById("drawerCasesLabel").textContent = t.nav.portfolio;
        document.getElementById("drawerAbout").textContent = t.nav.about;
        document.getElementById("drawerContact").textContent = t.nav.contact;
        // Servicios drawer
        document.getElementById("drawerSvcWeb").textContent = t.services.web;
        document.getElementById("drawerSvcIT").textContent = t.services.it;
        document.getElementById("drawerSvcInv").textContent = t.services.invites;
        document.getElementById("drawerSvcAuto").textContent = t.services.auto;
        if (document.getElementById("drawerSvcInfra")) document.getElementById("drawerSvcInfra").textContent = t.services.infra;
        // Casos drawer
        document.getElementById("drawerCaseSME").textContent = t.cases.sme;
        document.getElementById("drawerCaseCorp").textContent = t.cases.corp;
        document.getElementById("drawerCaseStartup").textContent = t.cases.startups;
        if (svcWeb) svcWeb.textContent = t.services.web;
        if (svcIT)  svcIT.textContent  = t.services.it;
        if (svcInv) svcInv.textContent = t.services.invites;
        if (svcAuto) svcAuto.textContent = t.services.auto;

        heroTitle.textContent = t.hero.title;
        heroDesc.textContent = t.hero.desc;

        langItems.forEach(item => {
          const isSelected = item.getAttribute("data-lang") === lang;
          item.setAttribute("aria-selected", isSelected ? "true" : "false");
        });

        document.documentElement.lang = (lang === "en") ? "en" : "es";
      }

      // Theme menu
      function closeThemeMenu(){
        themeMenu.classList.remove("open");
        themeBtn.setAttribute("aria-expanded", "false");
      }
      function toggleThemeMenu(){
        const open = !themeMenu.classList.contains("open");
        if (open){
          // Exclusión mutua
          closeLangMenu();
        closeThemeMenu();
          themeMenu.classList.add("open");
          themeBtn.setAttribute("aria-expanded", "true");
          requestAnimationFrame(adjustThemeMenuPosition);
        } else {
          closeThemeMenu();
        }
      }


      function adjustThemeMenuPosition(){
        // Reset inline positioning first (default: centered)
        themeMenu.style.left = "";
        themeMenu.style.right = "";
        themeMenu.style.transform = "";

        const rect = themeMenu.getBoundingClientRect();
        const overflowRight = rect.right > window.innerWidth;
        const overflowLeft  = rect.left < 0;

        if (!overflowRight && !overflowLeft){
          // Normal: centrado debajo del botón
          themeMenu.style.left = "50%";
          themeMenu.style.transform = "translateX(-50%)";
          return;
        }

        if (overflowRight){
          // Pegado al borde derecho del viewport: alinear al borde derecho del botón
          themeMenu.style.left = "auto";
          themeMenu.style.right = "0";
          themeMenu.style.transform = "none";
        } else if (overflowLeft){
          // Pegado al borde izquierdo del viewport: alinear al borde izquierdo del botón
          themeMenu.style.left = "0";
          themeMenu.style.right = "auto";
          themeMenu.style.transform = "none";
        }
      }

      // Language menu
      function closeLangMenu(){
        langMenu.classList.remove("open");
        langBtn.setAttribute("aria-expanded", "false");
      }
      function toggleLangMenu(){
        const open = !langMenu.classList.contains("open");
        if (open){
          closeThemeMenu();
          langMenu.classList.add("open");
          langBtn.setAttribute("aria-expanded", "true");
        } else {
          closeLangMenu();
        }
      }

      langBtn.addEventListener("click", (e) => { e.stopPropagation(); toggleLangMenu(); });

      themeBtn.addEventListener("click", (e) => { e.stopPropagation(); toggleThemeMenu(); });

      // Theme menu interactions
      themeMenu.addEventListener("click", (e) => e.stopPropagation());

      themeItems.forEach(item => {
        item.addEventListener("click", (e) => {
          e.stopPropagation();

          const next = item.getAttribute("data-theme"); // system | light | dark

          // Visual selection (aria-selected)
          themeItems.forEach(i => i.setAttribute("aria-selected", "false"));
          item.setAttribute("aria-selected", "true");

          // Persist + apply
          state.themeMode = next;
          localStorage.setItem(STORAGE.themeMode, state.themeMode);
          applyTheme();

          // Close immediately
          closeThemeMenu();
        });
      });


      langItems.forEach(item => {
        item.addEventListener("click", (e) => {
          e.stopPropagation();
          const next = item.getAttribute("data-lang");
          closeLangMenu();
          // Toggle visual selection immediately
          langItems.forEach(i => i.setAttribute("aria-selected", "false"));
          item.setAttribute("aria-selected", "true");
          applyLang(next);
          closeLangMenu();
        });
      });




      // ===== Mobile Drawer =====
      const drawer = document.getElementById("drawer");
      const drawerPanel = drawer.querySelector(".drawer-panel");
      const drawerBackdrop = document.getElementById("drawerBackdrop");
      
      const drawerServicesBtn = document.getElementById("drawerServicesBtn");
      const drawerServicesMenu = document.getElementById("drawerServicesMenu");

      const drawerPortfolio = document.getElementById("drawerCasesLabel");
      const drawerAbout = document.getElementById("drawerAbout");
      const drawerContact = document.getElementById("drawerContact");
      const drawerMore = document.getElementById("drawerMore");

      let drawerScrollY = 0;

      function openDrawer(){
        // Close any header dropdowns to avoid layering glitches
        closeLangMenu();
        closeThemeMenu();

        // Lock page scroll (robust on iOS Safari)
        drawerScrollY = window.scrollY || window.pageYOffset || 0;
        document.body.style.top = `-${drawerScrollY}px`;
        document.body.classList.add("drawer-open");

        drawer.classList.add("open");
        // Servicios abierto por defecto
        drawerServicesMenu.classList.add("open");
        drawerServicesBtn.setAttribute("aria-expanded", "true");
        drawer.setAttribute("aria-hidden", "false");
        burgerBtn.setAttribute("aria-expanded", "true");
      }
      function closeDrawer(){
        burgerBtn.classList.remove("active");
        drawer.classList.remove("open");
        drawer.setAttribute("aria-hidden", "true");
        burgerBtn.setAttribute("aria-expanded", "false");

        // Unlock page scroll (restore previous position)
        document.body.classList.remove("drawer-open");
        const y = drawerScrollY;
        document.body.style.top = "";
        window.scrollTo(0, y);

        // Mantener Servicios abierto por defecto
        drawerServicesMenu.classList.add("open");
        drawerServicesBtn.setAttribute("aria-expanded", "true");
      }

      if (drawerPanel){
        drawerPanel.addEventListener("click", (e) => e.stopPropagation());
      }

      burgerBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        const isOpen = drawer.classList.contains("open");
        if (isOpen){
          closeDrawer();
        } else {
          burgerBtn.classList.add("active");
          openDrawer();
        }
      });

      drawerBackdrop.addEventListener("click", closeDrawer);
      
      drawerServicesBtn.addEventListener("click", () => {
        const open = drawerServicesMenu.classList.toggle("open");
        drawerServicesBtn.setAttribute("aria-expanded", open ? "true" : "false");
      });

      // cerrar drawer al navegar
      drawer.querySelectorAll("a").forEach(a => a.addEventListener("click", closeDrawer));

      document.addEventListener("click", (event) => {
        if (drawer.classList.contains("open")) {
          const panel = drawer.querySelector(".drawer-panel");
          const header = document.querySelector(".header");
          const clickedHeader = header && header.contains(event.target);
          if (panel && !panel.contains(event.target) && !clickedHeader) closeDrawer();
        }
        closeLangMenu();
        closeThemeMenu();
        navLinks.classList.remove("open");
        burgerBtn.setAttribute("aria-expanded", "false");
      });
      drawerCasesBtn?.addEventListener("click", () => {
        const isOpen = drawerCasesMenu.classList.contains("open");
        if (isOpen){
          drawerCasesMenu.classList.remove("open");
          drawerCasesChev.classList.remove("rot");
          drawerCasesBtn.setAttribute("aria-expanded", "false");
        } else {
          drawerCasesMenu.classList.add("open");
          drawerCasesChev.classList.add("rot");
          drawerCasesBtn.setAttribute("aria-expanded", "true");
        }
      });

      drawerCaseSME?.addEventListener("click", () => { closeDrawer(); });
      drawerCaseCorp?.addEventListener("click", () => { closeDrawer(); });
      drawerCaseStartup?.addEventListener("click", () => { closeDrawer(); });

      // Cerrar drawer al navegar
      drawerDemo?.addEventListener("click", () => { closeDrawer(); });
      drawerAbout?.addEventListener("click", () => { closeDrawer(); });
      drawerContact?.addEventListener("click", () => { closeDrawer(); });

      drawerSvcAuto?.addEventListener("click", () => { closeDrawer(); });
      drawerSvcWeb?.addEventListener("click", () => { closeDrawer(); });
      drawerSvcIT?.addEventListener("click", () => { closeDrawer(); });
      drawerSvcInfra?.addEventListener("click", () => { closeDrawer(); });
      drawerSvcInv?.addEventListener("click", () => { closeDrawer(); });




      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          if (drawer.classList.contains("open")) closeDrawer();
          closeLangMenu();
          closeThemeMenu();
        }
      });


      // Header height -> drawer starts below header (no tapa el header)
      const headerEl = document.querySelector(".header");
      function syncHeaderHeight(){
        if (!headerEl) return;
        const h = Math.round(headerEl.getBoundingClientRect().height);
        document.documentElement.style.setProperty("--headerH", h + "px");
      }
      window.addEventListener("resize", syncHeaderHeight);
      syncHeaderHeight();

      // Init
      applyTheme();
      applyLang(state.lang);
    
      
      // Deshabilitar click (focus pegajoso) en dropdown triggers: solo hover
      const platTrigger = document.getElementById("servicesTestBtn");
      const casesTrigger = document.getElementById("navPortfolio");

      [platTrigger, casesTrigger].forEach((el) => {
        if (!el) return;
        // Evita que el click deje foco (y por CSS abra/sticky)
        el.addEventListener("mousedown", (e) => {
          e.preventDefault();
        });
        el.addEventListener("click", (e) => {
          e.preventDefault();
          e.stopPropagation();
          try { el.blur(); } catch(_) {}
        });
      });

// Bloquear click derecho básico
      document.addEventListener("contextmenu", (e) => {
        e.preventDefault();
      });

    })();
  </script>
</body>
</html>
